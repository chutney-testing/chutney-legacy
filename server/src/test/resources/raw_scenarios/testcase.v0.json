{
    "title": "post scenario !",
    "tags": [],
    "executions": [],
    "content": "{\n    \"scenario\": {\n        \"name\": \"http client post\",\n        \"steps\": [\n            {\n                \"name\": \"Start https server\",\n                \"type\":\"https-server-start\",\n                \"target\": \"local_server\",\n                \"inputs\":{\n                    \"port\": \"8443\",\n                    \"truststore-path\": \"%%trustStoreAbsolutePath%%\",\n                    \"truststore-password\": \"password\"\n                }\n            },\n            {\n                \"name\": \"Post request to local server\",\n                \"type\":\"http-post\",\n                \"target\": \"local_server\",\n                \"inputs\":{\n                    \"uri\": \"/test\",\n                    \"body\": \"cool buddy\"\n                }\n            },\n            {\n                \"name\": \"Listen for POST requests\",\n                \"type\":\"https-listener\",\n                \"inputs\":{\n                    \"https-server\": \"${#httpsServer}\"\n                    \"uri\": \"/test\",\n                    \"verb\": \"POST\",\n                    \"expected-message-count\": \"1\"\n                }\n            },\n            {\n                \"name\": \"Send JMS to broker\",\n                \"type\":\"jms-sender\",\n                \"target\": \"jms_broker\",\n                \"inputs\":{\n                    \"destination\": \"dynamicQueues/test\",\n                    \"body\": \"${#requests[0].bodyAsString}\"\n                    \"headers\" : \"${#extractHeadersAsMap(#requests[0])}\"\n                }\n            },\n            {\n                \"name\": \"Listen to JMS broker\",\n                \"type\":\"jms-listener\",\n                \"target\": \"jms_broker\",\n                \"inputs\":{\n                    \"destination\": \"dynamicQueues/test\"\n                }\n            }\n        ]\n    }\n}"
}
