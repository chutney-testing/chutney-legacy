{
    "name": "Embedded Broker",
    "modelVersion": "7.0",
    "authenticationproviders" : [ {
        "name" : "Test",
        "type" : "Plain",
        "secureOnlyMechanisms": [],
        "users" : [ {"name" : "guest", "type" : "managed", "password" : "guest" } ]
    } ],
    "ports" : [  {
        "name" : "AMQP",
        "port" : "${qpid.amqp_port}",
        "protocols": [ "AMQP_0_9", "AMQP_0_9_1"],
        "authenticationProvider" : "Test",
        "virtualhostaliases" : [ {
            "name" : "nameAlias",
            "type" : "nameAlias"
        }, {
            "name" : "defaultAlias",
            "type" : "defaultAlias"
        }, {
            "name" : "hostnameAlias",
            "type" : "hostnameAlias"
        } ]
    }],
    "virtualhostnodes" : [ {
        "name" : "{\"scenario\":{\"name\":\"Init variables\",\"steps\":[{\"name\":\"Put Values in context\",\"type\":\"context-put\",\"inputs\":{\"entries\":{\"test_int\":\"{\\\"status\\\":{\\\"code\\\":200.0,\\\"reason\\\":\\\"OK\\\"}}\",\"test_xml\":\"<test><xml attr=\\\"attributeValue\\\"><status><code>200.0</code><reason>OK</reason></status></xml></test>\"\"test_xml_ns\":\"<tt:test xmlns:tt=\\\"http://test.org\\\" xmlns=\\\"http://test.org\\\"><xml attr=\\\"attributeValue\\\"><status xmlns=\\\"http://simple.org\\\"><code>200.0</code><reason>OK</reason></status></xml></test>\"}}},{\"name\":\"Json assert\",\"type\":\"json-assert\",\"inputs\":{\"document\":\"${#test_int}\",\"expected\":{\"$.status.code\":200.0,\"$.status.reason\":\"OK\"}}},{\"name\":\"Xml assert\",\"type\":\"xml-assert\",\"inputs\":{\"document\":\"${#test_xml}\",\"expected\":{\"/test/xml/@attr\":\"attributeValue\",\"/test/xml/status/code\":\"200.0\",\"/test/xml/status/reason\":\"OK\"}}},{\"name\":\"Xml assert with namespaces\",\"type\":\"xml-assert\",\"inputs\":{\"document\":\"${#test_xml_ns}\",\"expected\":{\"/test/xml/@attr\":\"attributeValue\",\"/test/xml/status/code\":\"200.0\",\"/test/xml/status/reason\":\"OK\"}}}]}}",
        "type" : "Memory",
        "defaultVirtualHostNode" : "true",
        "virtualHostInitialConfiguration" : "{\"type\": \"Memory\", \"NodeAutoCreationPolicy\": [{\"patterns\":\".*\",\"createdOnPublish\":\"true\",\"createdOnConsume\":\"true\",\"nodeType\":\"queue\",\"attributes\":{}}] }"
    }]
}
