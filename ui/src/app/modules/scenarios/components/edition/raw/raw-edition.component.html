<div class="row edition-header">
    <div class="header-left col-md-8">
        <div class="title">
            <chutney-forms-editable-label
                [id]="'title'"
                [placeholder]="'title'"
                [defaultValue]="'title'"
                [(model)]="testCase.title"
                [type]="'form-title'">
            </chutney-forms-editable-label>
        </div>
        <div class="description">
            <chutney-forms-editable-text-area
                [id]="'description'"
                [placeholder]="'description'"
                [defaultValue]="'description'"
                [(model)]="testCase.description"
                [type]="'form-title'">
            </chutney-forms-editable-text-area>
        </div>
    </div>
    <div class="header-right triangle-left col-md-4">
        <div class="row">
            <div class="col-2">
                <chutney-authoring-info [testCase]="testCase"></chutney-authoring-info>
            </div>
            <div class="col-2">
                <chutney-edition-info [testCase]="testCase"></chutney-edition-info>
            </div>
        </div>
        <div class="row form-group">
            <div class="p-0 align-self-center">
                <label class="form-control-label font-weight-bold" for="tags">{{ 'scenarios.edition.form.tags' | translate }}</label>
            </div>
            <div class="col">
                <textarea type="text" class="form-control tag-input no-resize" name="tags"
                      id="tags" [ngModel]="testCase.tags" (ngModelChange)="updateTags($event)" rows="2"></textarea>
            </div>
        </div>
    </div>
    <div class="action-pane">
        <button class="save-button" data-toggle="tooltip" title="Sauvegarder" [disabled]="errorMessage"
            (click)="saveScenario()">
        </button>
    </div>
</div>
<div class="plugins">
    <form [formGroup]="pluginsForm" autocomplete="off">
        <div class="row">
            <div class="col-7">
                <div class="form-inline">
                    <label class="form-control-label font-weight-bold mr-5" for="jiraId">{{'menu.principal.jiraId' | translate}}</label>
                    <input type="text" class="form-control small-text" id="jiraId"
                           formControlName="jiraId"
                           placeholder="ex. LK-42"/>
                </div>
            </div>
            <div class="col-5">
                <div *ngIf="saveErrorMessage" class="text-center btn-danger text-white cursor-default" (click)="this.saveErrorMessage = null">
                    <strong>{{ saveErrorMessage }}</strong>
                </div>
            </div>
        </div>
    </form>
</div>
<div>
    <div *ngIf="testCase">
        <chutney-scenario-campaigns [idScenario]="testCase.id"></chutney-scenario-campaigns>
    </div>
    <chutney-error-panel [errorMessage]="errorMessage"></chutney-error-panel>

    <div class="scenario-editor">
        <chutney-ace-editor
            [hasError]="errorMessage"
            [initialContent]="testCase.content"
            (textChangeEvent)="onScenarioContentChanged($event)">
        </chutney-ace-editor>
    </div>
</div>
