<chutney-page-header
  [title]="'Variables'"
  [breadcrumbs]="breadcrumbs"
  [showBackIcon]="true">
  <chutney-page-header-action>
    <button
      mat-fab
      class="mat-accent zi-2"
      aria-label="Save group"
      (click)="saveGroupVariables()"
      [@animate]="{ value: '*', params: { delay: '300ms', scale: '0.2' } }"
    >
      <mat-icon>save</mat-icon>
    </button>
  </chutney-page-header-action>
</chutney-page-header>

<div [formGroup]="groupForm" class="p-24 pb-0">
  <mat-form-field appearance="outline" floatLabel="always" class="w-100">
    <mat-label>Group Name</mat-label>
    <input matInput
      placeholder="Group Name"
      name="name"
      formControlName="name"
      required
    />
  </mat-form-field>
  <fieldset class="my-code-editor">
    <legend>Group Content *</legend>
    <td-code-editor #monaco
      fxFlex="grow"
      editorStyle="border:0;"
      language="json"
      [editorOptions]="{ fontSize: 12, automaticLayout: true }"
      [theme]="options.theme === 'light' ? 'vs' : 'vs-dark'"
      formControlName="variables"
      (editorInitialized)="editorInitialized($event)"
      (editorConfigurationChanged)="monacoEditorConfigChanged(monaco.theme)"
    ></td-code-editor>
  </fieldset>
</div>
